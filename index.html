<!DOCTYPE html>
<html>
<head>
<title>Google Cloud Vertex UI</title>
</head>
<body>

<input type="text" id="search" placeholder="Search">
<button id="submit">Submit</button>
<div id="output"></div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
$(document).ready(function() {
  const authToken = 'ya29.a0AWY7CklIHx6r6n2OONaUultB-GbsaA0OBRqpEmBDEe_aNH9dYpa-kkYRhuDCXd5llUdtyN2ELSImFglPa3iAULSYAW182d7AOLS-_RNABXRaoUNppmIVJ7KblG3YChGD8Ul4fVKjDit2gxsaNQqtrg5UBUWP64-loh7O_QaCgYKAXwSAQ4SFQG1tDrpbBI_K5SlhEVjw_yxdYjdmg0173'
  $("#submit").click(function() {
    var searchTerm = $("#search").val();
    
    $.ajax({
      url: "https://us-central1-aiplatform.googleapis.com/v1/projects/ajarvis1-156916/locations/us-central1/publishers/google/models/text-bison@001:predict",
      method: "POST",
      headers: {
        "Authorization": `Bearer ${authToken}`,
"Content-Type": "application/json"
      },
      data: JSON.stringify({
  "instances": [
    {
      "content": searchTerm
    }
  ],
  "parameters": {
    "temperature": 0,
    "maxOutputTokens": 256,
    "topP": 0.8,
    "topK": 40
  }
}),
      success: function(response) {
        $("#output").text(response.predictions[0].content);
      },
      error: function(error) {
        console.log(error);
      }
    });
  });
});
</script>

</body>
</html>

